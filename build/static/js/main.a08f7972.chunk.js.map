{"version":3,"sources":["components/input.js","components/personForm.js","components/filter.js","components/personsShow.js","components/services.js","components/alerts.js","App.js","index.js"],"names":["Input","handler","data","onChange","value","TableRow","text","PersonForm","props","onSubmit","submitHandler","nameHandler","newName","numberHandler","newNumber","type","Filter","filterHandler","filter","Persons","persons","deleteHandler","map","person","name","number","onClick","id","baseUrl","axios","get","then","res","newData","post","delete","put","Alert","message","className","ErrorAlert","App","useState","setPersons","setNewName","setNewNumber","setMessage","error","setError","setFilter","activateAlert","alertText","setTimeout","activateErrorAlert","errorText","useEffect","numberServices","resHandler","e","target","preventDefault","newPerson","find","el","user","window","confirm","catch","console","log","response","err","p","concat","toLowerCase","includes","userName","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a08f7972.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Input = ({ handler, data }) => <input onChange={handler} value={data} />;\r\n\r\nexport default Input;\r\n","import React from \"react\";\r\nimport Input from \"./input\";\r\n\r\nconst TableRow = ({ text, handler, data }) => (\r\n  <tr>\r\n    <td>{text}: </td>\r\n    <td>\r\n      <Input handler={handler} data={data} />\r\n    </td>\r\n  </tr>\r\n);\r\n\r\nconst PersonForm = (props) => (\r\n  <form onSubmit={props.submitHandler}>\r\n    <table>\r\n      <TableRow text=\"name\" handler={props.nameHandler} data={props.newName} />\r\n      <TableRow\r\n        text=\"number\"\r\n        handler={props.numberHandler}\r\n        data={props.newNumber}\r\n      />\r\n    </table>\r\n\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n);\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\nimport Input from \"./input\";\r\n\r\nconst Filter = ({ filterHandler, filter }) => (\r\n  <Input handler={filterHandler} data={filter} />\r\n);\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst Persons = ({ persons, deleteHandler }) => (\r\n  <>\r\n    {persons.map((person) => (\r\n      <>\r\n        <p key={person.name}>\r\n          <strong>{person.name}</strong> {person.number}\r\n          <button onClick={() => deleteHandler(person.id)}>delete</button>\r\n        </p>\r\n      </>\r\n    ))}\r\n  </>\r\n);\r\n\r\nexport default Persons;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => axios.get(baseUrl).then((res) => res.data);\r\n\r\nconst getOne = (id) => axios.get(`${baseUrl}/${id}`).then((res) => res.data);\r\n\r\nconst addOne = (newData) =>\r\n  axios.post(baseUrl, newData).then((res) => res.data);\r\n\r\nconst deleteOne = (id) =>\r\n  axios.delete(`${baseUrl}/${id}`).then((res) => res.data);\r\n\r\nconst putOne = (id, newData) =>\r\n  axios.put(`${baseUrl}/${id}`, newData).then((res) => res.data);\r\n\r\nexport default { getAll, addOne, deleteOne, putOne, getOne };\r\n","export const Alert = ({ message }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  return <div className=\"alertBox\">{message}</div>;\r\n};\r\nexport const ErrorAlert = ({ message }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  return <div className=\"errorAlertBox\">{message}</div>;\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport PersonForm from \"./components/personForm\";\nimport Filter from \"./components/filter\";\nimport Persons from \"./components/personsShow\";\nimport numberServices from \"./components/services\";\nimport { Alert, ErrorAlert } from \"./components/alerts\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [error, setError] = useState(null);\n  const [filter, setFilter] = useState(\"\");\n  const nameHandler = (e) => setNewName(e.target.value);\n  const numberHandler = (e) => setNewNumber(e.target.value);\n  const filterHandler = (e) => setFilter(e.target.value);\n  const activateAlert = (alertText) => {\n    setMessage(alertText);\n    setTimeout(() => {\n      setMessage(null);\n    }, 5000);\n  };\n  const activateErrorAlert = (errorText) => {\n    setError(errorText);\n    setTimeout(() => {\n      setError(null);\n    }, 5000);\n  };\n  const submitHandler = (e) => {\n    e.preventDefault();\n    const newPerson = { name: newName, number: newNumber };\n    if (!persons.find((el) => el.name == newName)) {\n      numberServices\n        .addOne(newPerson)\n        .then((data) => {\n          setPersons(persons.concat(data));\n          setNewName(\"\");\n          setNewNumber(\"\");\n          activateAlert(`Added ${newPerson.name}`);\n        })\n        .catch((err) => {\n          console.log(err.response.data.err);\n          activateErrorAlert(`${err.response.data.err}`);\n        });\n    } else {\n      const user = persons.filter((person) => person.name === newName);\n      const replaceConfirm = window.confirm(\n        `${newName} is added to the list, replace the old number with a new one ?`\n      );\n      if (replaceConfirm) {\n        numberServices\n          .putOne(user[0].id, newPerson)\n          .then((data) => {\n            setPersons(\n              persons.map((person) => (person.id !== data.id ? person : data))\n            );\n            setNewName(\"\");\n            setNewNumber(\"\");\n            activateAlert(`Updated ${newPerson.name}`);\n          })\n          .catch((e) => {\n            console.log(e.response.data.err);\n            activateErrorAlert(e.response.data.err);\n            setPersons(persons.filter((p) => p.id !== user[0].id));\n          });\n      }\n    }\n  };\n  const deleteHandler = (id) => {\n    const userName = persons.filter((person) => person.id === id);\n    console.log(userName);\n    const deleteConfirm = window.confirm(`Delete ${userName[0].name} ?`);\n    if (deleteConfirm) {\n      numberServices\n        .deleteOne(id)\n        .then((res) => console.log(res))\n        .catch((e) => {\n          console.log(e.message);\n          activateErrorAlert(\n            `Information of ${userName[0].name}\\'s already been removed !`\n          );\n        });\n      setPersons(persons.filter((p) => p.id !== id));\n    }\n  };\n  useEffect(() => {\n    const resHandler = (res) => {\n      setPersons(res);\n    };\n    numberServices.getAll().then((res) => resHandler(res));\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <h1>Phonebook</h1>\n      <Alert message={message} />\n      <ErrorAlert message={error} />\n      <label>filter shown with: </label>\n      <Filter filterHandler={filterHandler} filter={filter} />\n      <h2>Add number</h2>\n      <PersonForm\n        submitHandler={submitHandler}\n        nameHandler={nameHandler}\n        numberHandler={numberHandler}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons.filter((person) =>\n          person.name.toLowerCase().includes(filter.toLowerCase())\n        )}\n        deleteHandler={deleteHandler}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}